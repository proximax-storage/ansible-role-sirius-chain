{% set combined_node_config = default_node_config | combine(node_config, recursive=true) -%}
[node]

port = {{ combined_node_config['node_port'] }}
apiPort = {{ combined_node_config['node_api_port'] }}
shouldAllowAddressReuse = {{ combined_node_config['should_allow_address_reuse'] | lower }}
shouldUseSingleThreadPool = {{ combined_node_config['should_use_single_thread_pool'] | lower }}
shouldUseCacheDatabaseStorage = {{ combined_node_config['should_use_cache_database_storage'] | lower }}
shouldEnableAutoSyncCleanup = {{ combined_node_config['should_enable_auto_sync_cleanup'] | lower }}

shouldEnableTransactionSpamThrottling = {{ combined_node_config['should_enable_transaction_spam_throttling'] | lower }}
transactionSpamThrottlingMaxBoostFee = {{ combined_node_config['transaction_spam_throttling_max_boost_fee'] }}

maxBlocksPerSyncAttempt = {{ combined_node_config['max_blocks_per_sync_attempt'] }}
maxChainBytesPerSyncAttempt = {{ combined_node_config['max_chain_bytes_per_sync_attempt'] }}

shortLivedCacheTransactionDuration = {{ combined_node_config['short_lived_cache_transaction_duration'] }}
shortLivedCacheBlockDuration = {{ combined_node_config['short_lived_cache_block_duration'] }}
shortLivedCachePruneInterval = {{ combined_node_config['short_lived_cache_prune_interval'] }}
shortLivedCacheMaxSize = {{ combined_node_config['short_lived_cache_max_size'] }}

minFeeMultiplier = {{ combined_node_config['min_fee_multiplier'] }}
feeInterest = {{ combined_node_config['fee_interest'] }}
feeInterestDenominator = {{ combined_node_config['fee_interest_denominator'] }}
rejectEmptyBlocks = {{ combined_node_config['reject_empty_blocks'] | lower }}
transactionSelectionStrategy = {{ combined_node_config['transaction_selection_strategy'] }}
unconfirmedTransactionsCacheMaxResponseSize = {{ combined_node_config['unconfirmed_transactions_cache_max_response_size'] }}
unconfirmedTransactionsCacheMaxSize = {{ combined_node_config['unconfirmed_transactions_cache_max_size'] }}

connectTimeout = {{ combined_node_config['connect_timeout'] }}
syncTimeout = {{ combined_node_config['sync_timeout'] }}

socketWorkingBufferSize = {{ combined_node_config['socket_working_buffer_size'] }}
socketWorkingBufferSensitivity = {{ combined_node_config['socket_working_buffer_sensitivity'] }}
maxPacketDataSize = {{ combined_node_config['max_packet_data_size'] }}

blockDisruptorSize = {{ combined_node_config['block_disruptor_size'] }}
blockElementTraceInterval = {{ combined_node_config['block_element_trace_interval'] }}
transactionDisruptorSize = {{ combined_node_config['transaction_disruptor_size'] }}
transactionElementTraceInterval = {{ combined_node_config['transaction_element_trace_interval'] }}

shouldAbortWhenDispatcherIsFull = {{ combined_node_config['should_abort_when_dispatcher_is_full'] | lower }}
shouldAuditDispatcherInputs = {{ combined_node_config['should_audit_dispatcher_inputs'] | lower }}

outgoingSecurityMode = {{ combined_node_config['outgoing_security_mode'] }}
incomingSecurityModes = {{ combined_node_config['incoming_security_modes'] }}

maxCacheDatabaseWriteBatchSize = {{ combined_node_config['max_cache_database_write_batch_size'] }}
maxTrackedNodes = {{ combined_node_config['max_track_nodes'] }}

[localnode]

host = {{ combined_node_config['localnode_host'] }}
friendlyName = {{ combined_node_config['localnode_friendly_name'] }}
version = {{ combined_node_config['localnode_version'] }}
roles = {{ combined_node_config['localnode_roles'] }}

[outgoing_connections]

maxConnections = {{ combined_node_config['outgoing_max_connections'] }}
maxConnectionAge = {{ combined_node_config['outgoing_max_connection_age'] }}
maxConnectionBanAge = {{ combined_node_config['outgoing_max_connection_ban_age'] }}
numConsecutiveFailuresBeforeBanning = {{ combined_node_config['outgoing_num_consecutive_failures_before_banning'] }}

[incoming_connections]

maxConnections = {{ combined_node_config['incoming_max_connections'] }}
maxConnectionAge = {{ combined_node_config['incoming_max_connection_age'] }}
maxConnectionBanAge = {{ combined_node_config['incoming_max_connection_ban_age'] }}
numConsecutiveFailuresBeforeBanning = {{ combined_node_config['incoming_num_consecutive_failures_before_banning'] }}
backlogSize = {{ combined_node_config['incoming_backlog_size'] }}
